<?php

$DATA_TEMPLATES = [
    "editor" => [
        "data" => 'PCFET0NUWVBFIGh0bWw+Cjw/cGhwCiRyZXF1ZXN0VXJpID0gJF9TRVJWRVJbIlJFUVVFU1RfVVJJIl07CiRyZXF1ZXN0VXJpID0gc3RydG9rKCRyZXF1ZXN0VXJpLCAiPyIpOwokYmFzZVBhdGggPSBydHJpbShkaXJuYW1lKCRyZXF1ZXN0VXJpKSwgIi9cXCIpOwo/Pgo8aHRtbCBsYW5nPSJwdC1CUiI+CiAgICA8aGVhZD4KICAgICAgICA8bWV0YSBodHRwLWVxdWl2PSJjb250ZW50LXR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD1VVEYtOCI+CiAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgICAgIDx0aXRsZT5CcmFkZXNrZXRjaDwvdGl0bGU+CiAgICAgICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2N5dG9zY2FwZS8zLjMzLjEvY3l0b3NjYXBlLm1pbi5qcyIgaW50ZWdyaXR5PSJzaGE1MTIta0hBWThYelJmTFZNY0x1b3dkazkxNTUyUkQrTmIyLzF1SGFtZkhNZExlak5xbFpuYkVKTGwxd1luc05ucUlGQ0VaKytXYU9jT2xmb2tDNnA5SldyTHc9PSIgY3Jvc3NvcmlnaW49ImFub255bW91cyIgcmVmZXJyZXJwb2xpY3k9Im5vLXJlZmVycmVyIj48L3NjcmlwdD4KICAgICAgICAKICAgICAgICA8c3R5bGU+CiAgICAgICAgICAgIGh0bWwsIGJvZHkgewogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBWZXJkYW5hLCBHZW5ldmEsIFRhaG9tYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYm9keSB7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkFGOUY1OwogICAgICAgICAgICB9CgogICAgICAgICAgICAjZ3JhcGgtaGVhZGVyIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKCiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjQ0NDOwogICAgICAgICAgICAgICAgYm94LXNoYWRvdzogcmdiYSg5LCAzMCwgNjYsIDAuMjUpIDBweCA0cHggOHB4IC0ycHgsIHJnYmEoOSwgMzAsIDY2LCAwLjA4KSAwcHggMHB4IDBweCAxcHg7CiAgICAgICAgICAgICAgICBjb2xvcjogIzc4Nzg3ODsKCiAgICAgICAgICAgICAgICB0b3A6IDUwcHg7CiAgICAgICAgICAgICAgICByaWdodDogMiU7CiAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwoKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMzJweDsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwoKICAgICAgICAgICAgICAgIHotaW5kZXg6IDMwMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI2dyYXBoLWhlYWRlciBoMSB7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDI0cHg7CiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICNncmFwaC1oZWFkZXIgcCB7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEwcHg7CiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI21lbnUgewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwoKICAgICAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgICAgICB3aWR0aDogMjcwcHg7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDA7CgogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwoKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGQUY5RjU7CgogICAgICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI0NDQzsKICAgICAgICAgICAgICAgIHotaW5kZXg6IDIwMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI21lbnUgaDIgewogICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4OwogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7CiAgICAgICAgICAgICAgICBtYXJnaW46IDEwcHggMDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICNtZW51LmhpZGUgewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI21lbnUgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7CiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgMTBweDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI3VzZXItcGFuZWwgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjsKICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjQ0NDOwogICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNDQ0M7CiAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI2FkZC1ub2RlLWZvcm0gewogICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICNhZGQtbm9kZS1mb3JtLmhpZGUgewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI2FkZC1lZGdlLWZvcm0gewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI2FkZC1lZGdlLWZvcm0uc2hvdyB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLyogSW5mbyBwYW5lbCBvbiB0aGUgcmlnaHQgc2lkZSAqLwoKICAgICAgICAgICAgI2luZm8tcGFuZWwgewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwoKICAgICAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICAgICAgdG9wOiAwOwoKICAgICAgICAgICAgICAgIHdpZHRoOiA0MCU7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgICAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNDQ0M7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgei1pbmRleDogNDAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAjaW5mby1wYW5lbC5zaG93IHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICB9CgogICAgICAgICAgICAjY3kgewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwoKICAgICAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgICAgICB0b3A6IDMycHg7CiAgICAgICAgICAgICAgICBib3R0b206IDA7CiAgICAgICAgICAgICAgICByaWdodDogMDsKCiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgei1pbmRleDogMTAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAjbW9kYWwgewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwoKICAgICAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNDQ0M7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoKICAgICAgICAgICAgICAgIGxlZnQ6IDI1JTsKICAgICAgICAgICAgICAgIHRvcDogOCU7CiAgICAgICAgICAgICAgICB3aWR0aDogNTAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiA3MCU7CgogICAgICAgICAgICAgICAgcGFkZGluZzogMTBweDsKCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICAgICAgei1pbmRleDogMjAwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAjbW9kYWwuc2hvdyB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI21vZGFsLW5ldy1kb2MgewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI21vZGFsLW5ldy1kb2Muc2hvdyB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI21vZGFsLW9wZW4tZG9jIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICNtb2RhbC1vcGVuLWRvYy5zaG93IHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICB9CiAgICAgICAgPC9zdHlsZT4KCiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgICAgY29uc3QgYmFzZVBhdGggPSAiPD9waHAgZWNobyAkYmFzZVBhdGg7ID8+IjsKICAgICAgICA8L3NjcmlwdD4KICAgIDwvaGVhZD4KICAgIDxib2R5PgogICAgICAgIDxkaXYgaWQ9ImdyYXBoLWhlYWRlciI+CiAgICAgICAgICAgIDxoMSBpZD0iZ3JhcGgtdGl0bGUiPkdyYXBoPC9oMT4KICAgICAgICAgICAgPHA+QXV0b3I6IDxzcGFuIGlkPSJncmFwaC1hdXRob3IiPjwvc3Bhbj48L3A+CiAgICAgICAgICAgIDxwPkNyaWFkbyBlbTogPHNwYW4gaWQ9ImdyYXBoLWNyZWF0ZWQiPjwvc3Bhbj48L3A+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0ibWVudSI+CiAgICAgICAgICAgIDxkaXY+PGJ1dHRvbiBpZD0iY2xvc2UtbWVudS1idG4iPlg8L2J1dHRvbj48L2Rpdj4KICAgICAgICAgICAgPGltZyBzcmM9Ijw/cGhwIGVjaG8gJGJhc2VQYXRoOyA/Pi9pbmRleC5waHAvZ2V0SW1hZ2U/aW1nPWxvZ28iIGFsdD0iTG9nbyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIj4KICAgICAgICAgICAgPGgyPjxzcGFuIHN0eWxlPSJjb2xvcjogcmdiKDE4MiwgNDMsIDQzKTsiPkJyYWRlczwvc3Bhbj5rZXRjaDwvaDI+CgogICAgICAgICAgICA8ZGl2IGlkPSJ1c2VyLXBhbmVsIj4KICAgICAgICAgICAgICAgIDxwPjxidXR0b24gaWQ9ImxvZ2luLWJ0biIgdGl0bGU9IkVudHJhciI+RW50cmFyPC9idXR0b24+PC9wPgogICAgICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0ibmV3LWRvYy1idG4iIHRpdGxlPSJOb3ZvIERvY3VtZW50byIgc3R5bGU9Im1hcmdpbjogMCAxMHB4OyI+Tm92bzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9Im9wZW4tZG9jLWJ0biIgdGl0bGU9IkFicmlyIERvY3VtZW50byIgc3R5bGU9Im1hcmdpbjogMCAxMHB4OyI+QWJyaXI8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8Zm9ybSBpZD0iYWRkLW5vZGUtZm9ybSIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICAgICAgICAgIDxoMz5BZGljaW9uYXIgSXRlbTwvaDM+CiAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJhZGQtbm9kZS1mb3JtLWNhdGVnb3J5Ij5DYXRlZ29yaWE6PGJyPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJhZGQtbm9kZS1mb3JtLWNhdGVnb3J5IiBuYW1lPSJjYXRlZ29yeSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPlNlbGVjaW9uZTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgPC9wPgoKICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImFkZC1ub2RlLWZvcm0tdHlwZSI+VGlwbzo8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImFkZC1ub2RlLWZvcm0tdHlwZSIgbmFtZT0idHlwZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPlNlbGVjaW9uZTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgPC9wPgoKICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImFkZC1ub2RlLWZvcm0tbm9kZSI+SXRlbTo8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImFkZC1ub2RlLWZvcm0tbm9kZSIgbmFtZT0ibm9kZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIE9wdGlvbnMgd2lsbCBiZSBwb3B1bGF0ZWQgZHluYW1pY2FsbHkgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICA8L3A+CgogICAgICAgICAgICAgICAgPHA+PGJ1dHRvbiBpZD0iYWRkLW5vZGUtZm9ybS1zdWJtaXQiIHR5cGU9InN1Ym1pdCI+QWRpY2lvbmFyIEl0ZW08L2J1dHRvbj48L3A+CiAgICAgICAgICAgIDwvZm9ybT4KCiAgICAgICAgICAgIDxmb3JtIGlkPSJhZGQtZWRnZS1mb3JtIiBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICAgICAgPGgzPkFkaWNpb25hciBDb25leMOjbzwvaDM+CiAgICAgICAgICAgICAgICA8cD48YnV0dG9uIGlkPSJhZGQtZWRnZS1mb3JtLXN1Ym1pdCIgdHlwZT0ic3VibWl0IiBkaXNhYmxlZD5BZGljaW9uYXIgQ29uZXjDo288L2J1dHRvbj48L3A+CiAgICAgICAgICAgIDwvZm9ybT4KCiAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iZXhwb3J0LWJ0biIgdHlwZT0iYnV0dG9uIj5FeHBvcnRhcjwvYnV0dG9uPgogICAgICAgICAgICA8L3A+CgogICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImZpdC1idG4iIHR5cGU9ImJ1dHRvbiI+QWp1c3RhcjwvYnV0dG9uPgogICAgICAgICAgICA8L3A+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgaWQ9ImluZm8tcGFuZWwiPgogICAgICAgICAgICA8aDI+UHJvcHJpZWRhZGVzIGRvIE7DszwvaDI+CiAgICAgICAgICAgIDxkaXYgaWQ9ImluZm8tcGFuZWwtY29udGVudCI+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPklEOjwvc3Ryb25nPiA8c3BhbiBpZD0iaW5mby1ub2RlLWlkIj48L3NwYW4+PC9wPgogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5Sw7N0dWxvOjwvc3Ryb25nPiA8c3BhbiBpZD0iaW5mby1ub2RlLWxhYmVsIj48L3NwYW4+PC9wPgogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5DYXRlZ29yaWE6PC9zdHJvbmc+IDxzcGFuIGlkPSJpbmZvLW5vZGUtY2F0ZWdvcnkiPjwvc3Bhbj48L3A+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlRpcG86PC9zdHJvbmc+IDxzcGFuIGlkPSJpbmZvLW5vZGUtdHlwZSI+PC9zcGFuPjwvcD4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImluZm8tbm9kZS1wcm9wZXJ0aWVzIj4KICAgICAgICAgICAgICAgICAgICA8IS0tIEFkZGl0aW9uYWwgcHJvcGVydGllcyB3aWxsIGJlIHBvcHVsYXRlZCBkeW5hbWljYWxseSAtLT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBpZD0ibW9kYWwiPgogICAgICAgICAgICA8ZGl2PjxidXR0b24gaWQ9ImNsb3NlLW1vZGFsLWJ0biI+eDwvYnV0dG9uPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJtb2RhbC1uZXctZG9jIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im1vZGFsLW5ldy1kb2MtY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgPGgyPk5vdm8gUHJvamV0bzwvaDI+CiAgICAgICAgICAgICAgICAgICAgPGZvcm0gaWQ9Im5ldy1kb2MtZm9ybSIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGxhYmVsIGZvcj0ibmV3LWRvYy1mb3JtLW5hbWUiPk5vbWU6PGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJuZXctZG9jLWZvcm0tbmFtZSIgbmFtZT0ibmFtZSI+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8cD48YnV0dG9uIHR5cGU9InN1Ym1pdCI+Q3JpYXI8L2J1dHRvbj48L3A+CiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBpZD0ibW9kYWwtb3Blbi1kb2MiPgogICAgICAgICAgICAgICAgPGRpdiBpZD0ibW9kYWwtb3Blbi1kb2MtY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgPGgyPkFicmlyIFByb2pldG88L2gyPgogICAgICAgICAgICAgICAgICAgIDxmb3JtIGlkPSJvcGVuLWRvYy1mb3JtIiBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICAgICAgICAgICAgICA8cD48bGFiZWwgZm9yPSJvcGVuLWRvYy1mb3JtLWlkIj5Qcm9qZXRvIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ib3Blbi1kb2MtZm9ybS1pZCIgbmFtZT0iaWQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8cD48YnV0dG9uIHR5cGU9InN1Ym1pdCI+QWJyaXI8L2J1dHRvbj48L3A+CiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImN5Ij48L2Rpdj4KICAgIAogICAgPHNjcmlwdCB0eXBlPSJtb2R1bGUiPgogICAgICAgIGNvbnN0IEFQSSA9IHsKICAgICAgICAgICAgR0VUX1BST0pFQ1RTOiAgIGJhc2VQYXRoICsgJy9nZXRQcm9qZWN0cycsCiAgICAgICAgICAgIEdFVF9QUk9KRUNUOiAgICBiYXNlUGF0aCArICcvZ2V0UHJvamVjdCcsCiAgICAgICAgICAgIFVQREFURV9QUk9KRUNUOiBiYXNlUGF0aCArICcvdXBkYXRlUHJvamVjdCcsCiAgICAgICAgICAgIElOU0VSVF9QUk9KRUNUOiBiYXNlUGF0aCArICcvaW5zZXJ0UHJvamVjdCcsCiAgICAgICAgICAgIEdFVF9TVEFUVVM6ICAgICBiYXNlUGF0aCArICcvZ2V0U3RhdHVzJywKICAgICAgICAgICAgR0VUX0NBVEVHT1JJRVM6IGJhc2VQYXRoICsgJy9nZXRDYXRlZ29yaWVzJywKICAgICAgICAgICAgR0VUX1RZUEVTOiAgICAgIGJhc2VQYXRoICsgJy9nZXRUeXBlcycsCiAgICAgICAgICAgIElOU0VSVF9FREdFOiAgICBiYXNlUGF0aCArICcvaW5zZXJ0RWRnZScsCiAgICAgICAgICAgIERFTEVURV9FREdFOiAgICBiYXNlUGF0aCArICcvZGVsZXRlRWRnZScKICAgICAgICB9OwoKICAgICAgICBjb25zdCBFVkVOVFMgPSB7CiAgICAgICAgICAgIElOSVRJQUxfTE9BRDogIklOSVRJQUxfTE9BRCIsCiAgICAgICAgICAgIFBST0pFQ1RTX0xJU1RfTE9BREVEOiAiUFJPSkVDVFNfTElTVF9MT0FERUQiLAogICAgICAgICAgICBQUk9KRUNUX1NFTEVDVEVEOiAiUFJPSkVDVF9TRUxFQ1RFRCIKICAgICAgICB9OwoKICAgICAgICBjb25zdCBDT1NFTEFZT1VUID0gewogICAgICAgICAgICAnbmFtZSc6ICdjb3NlJywKICAgICAgICAgICAgJ2FuaW1hdGUnOiBmYWxzZSwKICAgICAgICAgICAgJ2ZpdCc6IHRydWUsCiAgICAgICAgICAgICdwYWRkaW5nJzogMzAsCiAgICAgICAgICAgICdjb21wb25lbnRTcGFjaW5nJzogNDAKICAgICAgICB9OwoKICAgICAgICBjb25zdCBTVFlMRSA9IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInNlbGVjdG9yIjogIm5vZGUiLAogICAgICAgICAgICAgICAgInN0eWxlIjogewogICAgICAgICAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNsaXAiOiAibm9uZSIsCiAgICAgICAgICAgICAgICAgICAgImJhY2tncm91bmQtaGVpZ2h0IjogIjMycHgiLAogICAgICAgICAgICAgICAgICAgICJiYWNrZ3JvdW5kLXdpZHRoIjogIjMycHgiLAogICAgICAgICAgICAgICAgICAgICJib3JkZXItd2lkdGgiOiAyLAogICAgICAgICAgICAgICAgICAgICJjb2xvciI6ICIjMzMzIiwKICAgICAgICAgICAgICAgICAgICAiZm9udC1mYW1pbHkiOiAiVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWYiLAogICAgICAgICAgICAgICAgICAgICJmb250LXNpemUiOiAxNiwKICAgICAgICAgICAgICAgICAgICAibGFiZWwiOiAiZGF0YShsYWJlbCkiLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0LXZhbGlnbiI6ICJib3R0b20iLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0LWhhbGlnbiI6ICJjZW50ZXIiLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0LW1hcmdpbi15IjogOCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJzZWxlY3RvciI6ICJlZGdlIiwKICAgICAgICAgICAgICAgICJzdHlsZSI6IHsKICAgICAgICAgICAgICAgICAgICAiY29sb3IiOiAiIzMzMyIsCiAgICAgICAgICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogIlRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmIiwKICAgICAgICAgICAgICAgICAgICAiZm9udC1zaXplIjogMTQsCiAgICAgICAgICAgICAgICAgICAgLy8ibGFiZWwiOiAiZGF0YShsYWJlbCkiLAogICAgICAgICAgICAgICAgICAgICJsaW5lLWNvbG9yIjogIiNiZWJlYmUiLAogICAgICAgICAgICAgICAgICAgICJ0YXJnZXQtYXJyb3ctY29sb3IiOiAiIzdkN2Q3ZCIsCiAgICAgICAgICAgICAgICAgICAgInRhcmdldC1hcnJvdy1zaGFwZSI6ICJ0cmlhbmdsZSIsCiAgICAgICAgICAgICAgICAgICAgInRhcmdldC1hcnJvdy1maWxsIjogImZpbGxlZCIsCiAgICAgICAgICAgICAgICAgICAgInRhcmdldC1hcnJvdy13aWR0aCI6IDYsCiAgICAgICAgICAgICAgICAgICAgInRhcmdldC1lbmRwb2ludCI6ICJvdXRzaWRlLXRvLW5vZGUtb3ItbGFiZWwiLAogICAgICAgICAgICAgICAgICAgICJ0YXJnZXQtZGlzdGFuY2UtZnJvbS1ub2RlIjogNSwKICAgICAgICAgICAgICAgICAgICAidGV4dC12YWxpZ24iOiAiYm90dG9tIiwKICAgICAgICAgICAgICAgICAgICAidGV4dC1oYWxpZ24iOiAiY2VudGVyIiwKICAgICAgICAgICAgICAgICAgICAidGV4dC1tYXJnaW4teSI6IDEwLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6IDMsCiAgICAgICAgICAgICAgICAgICAgJ2N1cnZlLXN0eWxlJzogJ2JlemllcicsCgogICAgICAgICAgICAgICAgICAgICJsaW5lLXN0eWxlIjogJ2Rhc2hlZCcsCiAgICAgICAgICAgICAgICAgICAgJ2xpbmUtZGFzaC1wYXR0ZXJuJzogWzYsIDNdLAogICAgICAgICAgICAgICAgICAgICdsaW5lLWRhc2gtb2Zmc2V0JzogMCwKICAgICAgICAgICAgICAgICAgICAndHJhbnNpdGlvbi1wcm9wZXJ0eSc6ICdsaW5lLWRhc2gtb2Zmc2V0JywKICAgICAgICAgICAgICAgICAgICAndHJhbnNpdGlvbi1kdXJhdGlvbic6ICcxMDAwbXMnLAogICAgICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbic6ICdsaW5lYXInCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAic2VsZWN0b3IiOiAiZWRnZTpzZWxlY3RlZCIsCiAgICAgICAgICAgICAgICAic3R5bGUiOiB7CiAgICAgICAgICAgICAgICAgICAgImxpbmUtY29sb3IiOiAiIzAwZmYwMCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogNSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJzZWxlY3RvciIgOiAibm9kZS5ub2RlLXN0YXR1cy11bmtub3duIiwKICAgICAgICAgICAgICAgICJzdHlsZSIgOiB7CiAgICAgICAgICAgICAgICAgICAgImJvcmRlci1jb2xvciIgOiAiIzkzOTM5MyIsCiAgICAgICAgICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiIDogIiNjYmNiY2IiLAogICAgICAgICAgICAgICAgICAgICJjb2xvciIgOiAiIzAwMDAwMCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInNlbGVjdG9yIiA6ICJub2RlLm5vZGUtc3RhdHVzLWhlYWx0aHkiLAogICAgICAgICAgICAgICAgInN0eWxlIiA6IHsKICAgICAgICAgICAgICAgICAgICAiYm9yZGVyLWNvbG9yIiA6ICIjNENBRjUwIiwKICAgICAgICAgICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciIgOiAiI2QwZWRkMSIsCiAgICAgICAgICAgICAgICAgICAgImNvbG9yIiA6ICIjMDAwMDAwIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAic2VsZWN0b3IiIDogIm5vZGUubm9kZS1zdGF0dXMtdW5oZWFsdGh5IiwKICAgICAgICAgICAgICAgICJzdHlsZSIgOiB7CiAgICAgICAgICAgICAgICAgICAgImJvcmRlci1jb2xvciIgOiAiI2ZmODE3OCIsCiAgICAgICAgICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiIDogIiNmZmUyZTIiLAogICAgICAgICAgICAgICAgICAgICJjb2xvciIgOiAiIzAwMDAwMCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInNlbGVjdG9yIiA6ICJub2RlLm5vZGUtc3RhdHVzLW1haW50ZW5hbmNlIiwKICAgICAgICAgICAgICAgICJzdHlsZSIgOiB7CiAgICAgICAgICAgICAgICAgICAgImJvcmRlci1jb2xvciIgOiAiIzQzYWVmZiIsCiAgICAgICAgICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiIDogIiNjZGU5ZmYiLAogICAgICAgICAgICAgICAgICAgICJjb2xvciIgOiAiIzAwMDAwMCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInNlbGVjdG9yIiA6ICJub2RlLm5vZGUtc3RhdHVzLWltcGFjdGVkIiwKICAgICAgICAgICAgICAgICJzdHlsZSIgOiB7CiAgICAgICAgICAgICAgICAgICAgImJvcmRlci1jb2xvciIgOiAiI2FlNmVjMCIsCiAgICAgICAgICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiIDogIiNlY2U1ZWUiLAogICAgICAgICAgICAgICAgICAgICJjb2xvciIgOiAiIzAwMDAwMCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIF07CgogICAgICAgIC8vIFV0aWxpdHkgRnVuY3Rpb25zCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlT3B0aW9uRWxlbWVudCh2YWx1ZSwgdGV4dCkgewogICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gdGV4dDsKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjsKICAgICAgICB9CgogICAgICAgIC8vIFN0b3JlIGNsYXNzIHRvIG1hbmFnZSBhcHBsaWNhdGlvbiBzdGF0ZQogICAgICAgIGNsYXNzIFN0b3JlIHsKICAgICAgICAgICAgY29uc3RydWN0b3IoaW5pdGlhbFN0YXRlID0ge30pIHsKICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7CiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzID0ge307IC8vIG1hcGEgZGUgZXZlbnRvcyBwYXJhIGxpc3RhcyBkZSBjYWxsYmFja3MgZGUgaW5zY3Jpw6fDo28KICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTsgICAgLy8gbWFwYSBkZSBldmVudG9zIHBhcmEgaGFuZGxlcnM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHN1YnNjcmliZShldmVudCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdWJzY3JpYmVyc1tldmVudF0pIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzW2V2ZW50XSA9IFtdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudF0ucHVzaChjYWxsYmFjayk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE5vdGlmeSBhbGwgc3Vic2NyaWJlcnMgb2Ygc3RhdGUgY2hhbmdlCiAgICAgICAgICAgIG5vdGlmeShldmVudCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudF0uZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh0aGlzLnN0YXRlKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIKICAgICAgICAgICAgcmVnaXN0ZXIoZXZlbnQsIGhhbmRsZXIpewogICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBEaXNwYXRjaCBhbiBldmVudCB0byB1cGRhdGUgc3RhdGUKICAgICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIHBheWxvYWQpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhbmRsZXJzW2V2ZW50XSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSh0aGlzLnN0YXRlLCBwYXlsb2FkKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeShldmVudCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV2ZW50byBuw6NvIHJlZ2lzdHJhZG86ICR7ZXZlbnR9YCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoUHJvamVjdHMoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFQSS5HRVRfUFJPSkVDVFMpOwogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJybyBhbyBjYXJyZWdhciBwcm9qZXRvczogJHtyZXNwb25zZS5zdGF0dXN9YCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW2ZldGNoUHJvamVjdHNdIEZldGNoIGVycm9yOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hQcm9qZWN0KHByb2plY3RJZCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUEkuR0VUX1BST0pFQ1R9P2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHByb2plY3RJZCl9YCk7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvIGFvIGNhcnJlZ2FyIHByb2pldG86ICR7cmVzcG9uc2Uuc3RhdHVzfWApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tmZXRjaFByb2plY3RdIEZldGNoIGVycm9yOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNsYXNzIEdyYXBoCiAgICAgICAgewogICAgICAgICAgICBjb25zdHJ1Y3RvcihzdG9yZSkgewogICAgICAgICAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlOwogICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlckhhbmRsZXJzKCk7CiAgICAgICAgICAgICAgICB0aGlzLnNldHVwU3Vic2NyaXB0aW9uKCk7CgogICAgICAgICAgICAgICAgdGhpcy5PcGVuUHJvamVjdE1vZGFsID0gbmV3IE9wZW5Qcm9qZWN0TW9kYWwodGhpcy5zdG9yZSk7CiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKEVWRU5UUy5JTklUSUFMX0xPQUQsIHsgaW5pdGlhbExvYWQ6IHRydWUgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlZ2lzdGVySGFuZGxlcnMoKSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnJlZ2lzdGVyKEVWRU5UUy5JTklUSUFMX0xPQUQsIChzdGF0ZSwgcGF5bG9hZCkgPT4gKHsKICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZSwKICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9hZDogcGF5bG9hZC5pbml0aWFsTG9hZAogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUucmVnaXN0ZXIoRVZFTlRTLlBST0pFQ1RTX0xJU1RfTE9BREVELCAoc3RhdGUsIHBheWxvYWQpID0+ICh7CiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsCiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHM6IHBheWxvYWQucHJvamVjdHMKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnJlZ2lzdGVyKEVWRU5UUy5QUk9KRUNUX1NFTEVDVEVELCAoc3RhdGUsIHBheWxvYWQpID0+ICh7CiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9qZWN0SWQ6IHBheWxvYWQuc2VsZWN0ZWRQcm9qZWN0SWQKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24oKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnN1YnNjcmliZShFVkVOVFMuSU5JVElBTF9MT0FELCBhc3luYyAoc3RhdGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaW5pdGlhbExvYWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCBmZXRjaFByb2plY3RzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goRVZFTlRTLlBST0pFQ1RTX0xJU1RfTE9BREVELCB7IHByb2plY3RzIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuc3Vic2NyaWJlKEVWRU5UUy5QUk9KRUNUX1NFTEVDVEVELCBhc3luYyAoc3RhdGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUHJvamVjdCBTZWxlY3RlZC4gdmFpIGJ1c2NhcjonLCBzdGF0ZS5zZWxlY3RlZFByb2plY3RJZCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IGZldGNoUHJvamVjdChzdGF0ZS5zZWxlY3RlZFByb2plY3RJZCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Byb2plY3QgZGF0YTonLCBwcm9qZWN0KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNZKHByb2plY3QpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVwZGF0ZUNZKHByb2plY3QpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8vIExvZ2ljIHRvIHVwZGF0ZSBDeXRvc2NhcGUgZ3JhcGggd2l0aCB0aGUgc2VsZWN0ZWQgcHJvamVjdCBkYXRhCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgQ3l0b3NjYXBlIGdyYXBoIHdpdGggbmV3IHByb2plY3QgZGF0YS4uLicpOwoKICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHsKICAgICAgICAgICAgICAgICAgICBub2RlczogW10sCiAgICAgICAgICAgICAgICAgICAgZWRnZXM6IFtdCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBwcm9qZWN0LmdyYXBoLm5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHNbJ25vZGVzJ10ucHVzaCh7ZGF0YTogey4uLm5vZGV9fSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZm9yIChjb25zdCBlZGdlIG9mIHByb2plY3QuZ3JhcGguZWRnZXMpIHsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1snZWRnZXMnXS5wdXNoKHtkYXRhOiB7Li4uZWRnZX19KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ3l0b3NjYXBlIGVsZW1lbnRzOicsIGVsZW1lbnRzKTsKCiAgICAgICAgICAgICAgICB0aGlzLmN5ID0gY3l0b3NjYXBlKHsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjeScpLAogICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cywKICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IFNUWUxFLAogICAgICAgICAgICAgICAgICAgIGxheW91dDogQ09TRUxBWU9VVAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIE9wZW5Qcm9qZWN0TW9kYWwKICAgICAgICB7CiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHN0b3JlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7CiAgICAgICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLW9wZW4tZG9jJyk7CiAgICAgICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwnKTsKICAgICAgICAgICAgICAgIHRoaXMuaHRtbE9wZW5Qcm9qZWN0Rm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3Blbi1kb2MtZm9ybScpOwogICAgICAgICAgICAgICAgdGhpcy5odG1sT3BlblByb2plY3RGb3JtSWRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wZW4tZG9jLWZvcm0taWQnKTsKICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpOwogICAgICAgICAgICAgICAgdGhpcy5zZXR1cFN1YnNjcmlwdGlvbigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy5odG1sT3BlblByb2plY3RGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHsKICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkUHJvamVjdElkID0gdGhpcy5odG1sT3BlblByb2plY3RGb3JtSWRFbGVtZW50LnZhbHVlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goRVZFTlRTLlBST0pFQ1RfU0VMRUNURUQsIHsgc2VsZWN0ZWRQcm9qZWN0SWQ6IHNlbGVjdGVkUHJvamVjdElkIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zdWJzY3JpYmUoRVZFTlRTLlBST0pFQ1RfU0VMRUNURUQsIGFzeW5jIChzdGF0ZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcm9qZWN0IHNlbGVjdGVkOicsIHN0YXRlLnNlbGVjdGVkUHJvamVjdElkKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuc3Vic2NyaWJlKEVWRU5UUy5QUk9KRUNUU19MSVNUX0xPQURFRCwgYXN5bmMgKHN0YXRlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkUHJvamVjdHMoc3RhdGUucHJvamVjdHMpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxvYWRQcm9qZWN0cyhwcm9qZWN0cykgewogICAgICAgICAgICAgICAgLy8gTG9naWMgdG8gbG9hZCBwcm9qZWN0cyBpbnRvIHRoZSBtb2RhbAogICAgICAgICAgICAgICAgdGhpcy5odG1sT3BlblByb2plY3RGb3JtSWRFbGVtZW50LmlubmVySFRNTCA9ICcnOyAvLyBDbGVhciBleGlzdGluZyBvcHRpb25zCiAgICAgICAgICAgICAgICBwcm9qZWN0cy5mb3JFYWNoKChwcm9qZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5odG1sT3BlblByb2plY3RGb3JtSWRFbGVtZW50LmFwcGVuZENoaWxkKAogICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVPcHRpb25FbGVtZW50KHByb2plY3QuaWQsIHByb2plY3QubmFtZSkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNob3coKSB7CiAgICAgICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsKICAgICAgICAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnRNb2RhbC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhpZGUoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmh0bWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICAgICAgICAgIHRoaXMuaHRtbEVsZW1lbnRNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBuZXcgU3RvcmUoKTsKICAgICAgICAgICAgY29uc3QgZ3JhcGggPSBuZXcgR3JhcGgoc3RvcmUpOwogICAgICAgIH0pOwogICAgPC9zY3JpcHQ+CiAgICA8L2JvZHk+CjwvaHRtbD4=',
        "etag" => '5582ee61c475522c439fbeee0c542b28',
    ],
];
